<!DOCTYPE html>
<html xmlns:wicket="http://wicket.apache.org">
<head>
<meta charset="utf-8" />
<title>BCVerifier -- Verifying backward compatibility for Java packages</title>
<link rel="stylesheet" href="style.css" type="text/css" media="screen"
	title="Stylesheet" />
<script src="ace/ace.js" type="text/javascript" charset="utf-8"></script>
<script src="ace/theme-cobalt.js" type="text/javascript" charset="utf-8"></script>
<script src="ace/mode-java.js" type="text/javascript" charset="utf-8"></script>
<script src="ace/mode-boogie.js" type="text/javascript" charset="utf-8"></script>
<script src="ace/mode-isl.js" type="text/javascript" charset="utf-8"></script>
<script>
function updateEditorSize(editor,editorwrap,textarea) {
	textarea.value = editor.getSession().getValue();
	var newHeight = editor.getSession().getDocument().getLength() * editor.renderer.lineHeight + editor.renderer.scrollBar.getWidth();
    editorwrap.style.height = newHeight + "px";
    textarea.style.height = newHeight + "px";
    editor.resize();
}
function connectLib(libname,talibname,container) {
	var editor = ace.edit(libname);
	var editorwrap = document.getElementById(libname);
	var containerid = document.getElementById(container);
	//var initialheight = editorwrap.style.height;
	editor.setTheme("ace/theme/cobalt");
	 var JavaMode = require("ace/mode/java").Mode;
	    editor.getSession().setMode(new JavaMode());
	    editor.renderer.setShowGutter(false);
	    editor.setShowPrintMargin(false);
	    editor.setHighlightActiveLine(false);
	    var textarea = document.getElementById(talibname);
	    editor.getSession().setValue(textarea.value);
	    updateEditorSize(editor,editorwrap,textarea);
	    setTimeout(function() { updateEditorSize(editor,editorwrap,textarea); }, 100); // fix for internet explorer
	    editor.getSession().on('change', function(){
	      updateEditorSize(editor,editorwrap,textarea);
	    });
}
function connectInv(libname,talibname,container) {
	var editor = ace.edit(libname);
	var editorwrap = document.getElementById(libname);
	var containerid = document.getElementById(container);
	editor.setTheme("ace/theme/cobalt");
	 var ISLMode = require("ace/mode/isl").Mode; // https://github.com/ajaxorg/ace/wiki/Creating-or-Extending-an-Edit-Mode
	    editor.getSession().setMode(new ISLMode());
	    editor.renderer.setShowGutter(false);
	    editor.setShowPrintMargin(false);
	    editor.setHighlightActiveLine(false);
	    var textarea = document.getElementById(talibname);
	    editor.getSession().setValue(textarea.value);
	    updateEditorSize(editor,editorwrap,textarea);
	    setTimeout(function() { updateEditorSize(editor,editorwrap,textarea); }, 100); // fix for internet explorer
	    editor.getSession().on('change', function(){
	      updateEditorSize(editor,editorwrap,textarea);
	    });
	    editor.getSession().setValue(textarea.value);
}
function connectBoogieInput(libname,talibname,container) {
	var editor = ace.edit(libname);
	var editorwrap = document.getElementById(libname);
	editor.setTheme("ace/theme/cobalt");
	var BoogieMode = require("ace/mode/boogie").Mode; // https://github.com/ajaxorg/ace/wiki/Creating-or-Extending-an-Edit-Mode
    editor.getSession().setMode(new BoogieMode());
	    //editor.renderer.setShowGutter(false);
	    //editor.getSession().setUseWrapMode(true);
	    editor.setShowPrintMargin(false);
	    editor.setHighlightActiveLine(false);
	    editor.setReadOnly(true);
	    var textarea = document.getElementById(talibname);
	    editor.getSession().setValue(textarea.value);
	    //updateEditorSize(editor,editorwrap);
	    editor.getSession().on('change', function(){
	      textarea.value = editor.getSession().getValue();
	    });
	 window.boogieinput = editor;
}
function acegoto(editor,line,column) {
	window.boogieinput.gotoLine(line,column-1);
}
</script>
</head>
<body>
	<div id="hd">
		<div id="logo">
			<!-- <img src="logo.png" width="50px" height="50px" alt="Wicket Logo" /> -->
			<h1>
				BCVerifier
			</h1>
			<h2>
				<a class = "titlelink" href = "https://softech.cs.uni-kl.de/hg/public/bcverifier"><wicket:container wicket:id="version">1.0-SNAPSHOT</wicket:container></a>
			</h2>
			<select wicket:id="examples">
				<option>Some Example</option>
				<option>Some Other Example</option>
			</select>
			<a href="help.html" target="_blank"><img src="images/system-help-3.png" alt="Help menu"></a>
		</div>
	</div>
	<div id="bd">
		<form wicket:id="libForm" id="libForm">
		<table id="maintable">
		<tr>
			<td>
			<h2>First library:</h2>
			</td>
			<td>
			<h2>Second library:</h2>
			</td>
		</tr>
		<tr>
			<td id="lib1td">
			<div wicket:id="lib1panel">
  				<span wicket:id="lib1contents">
					<span wicket:id="libclass"></span>
					<br/>
				</span>
				<a href="#" class="add" wicket:id="add1Row">+</a>
				<a href="#" class="remove" wicket:id="remove1Row">-</a>
			</div>
			</td>
			<td id="lib2td">
			<div wicket:id="lib2panel">
  				<span wicket:id="lib2contents">
					<span wicket:id="libclass"></span>
					<br/>
				</span>
				<a href="#" class="add" wicket:id="add2Row">+</a>
				<a href="#" class="remove" wicket:id="remove2Row">-</a>
			</div>
			</td>
		</tr>
		</table>
			<div id="invtitle">
			<h2>Coupling invariant:</h2>
			<input type="submit" value="Check" id="formsubmit" />
			</div>
			<span wicket:id="inv"></span>
			<div id="optionstitle">
			<a href="#" class="show" wicket:id="showOptions">Toggle options</a>
			<br/>
			<div wicket:id="optionpanel">
				<span wicket:id="optioncontents">
					<span wicket:id="option"></span>
					<span wicket:id="description">Test ID</span> 
					<br />
				</span>
			</div>
			</div>
		</form>
		<br/>
		<h2 id="outputlink">Output:</h2>
			<span wicket:id="output">Output</span>
			<a name="boogieinputbegin"><h3>Generated BPL file:</h3></a>
			<span wicket:id="boogieinput"></span>
	</div>
	<div id="ft"></div>
</body>
</html>
